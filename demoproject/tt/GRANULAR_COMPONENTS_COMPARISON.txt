╔════════════════════════════════════════════════════════════════════════════╗
║         Monolithic vs Granular Component Architecture                      ║
╚════════════════════════════════════════════════════════════════════════════╝

BEFORE: Monolithic Base                 AFTER: Granular Components
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌─────────────────────────────┐         ┌────────────────────────────┐
│ base-payer-acroform.yml     │         │ base-payer-acroform-v2.yml │
│ (Monolithic - 55 fields)    │         │ (Composed - 28 fields)     │
├─────────────────────────────┤         ├────────────────────────────┤
│ • Company Info (5)          │         │ composition:               │
│ • Application (6)           │         │   components:              │
│ • Primary Applicant (11)    │         │     - company-info.yml     │◄─┐
│ • Premium/Payment (6)       │         │     - app-metadata.yml     │◄─┤
│ • Spouse (7) ⚠ ALWAYS      │         │     - primary-applicant.yml│◄─┤
│ • Dependents (20) ⚠ ALWAYS │         │     - premium-payment.yml  │◄─┤
└─────────────────────────────┘         └────────────────────────────┘  │
                                                                         │
Problem: Every form includes         Benefits:                          │
spouse/dependent fields even         • Selective inclusion              │
if not needed!                       • Better organized                 │
                                     • Easier to maintain               │
                                                                         │
                                     ┌──────────────────────────────────┤
                                     │ Granular Components (Separate Files)
                                     │
                        ┌────────────┴─────────┬───────────────┬────────────┐
                        │                      │               │            │
            ┌───────────▼────────┐  ┌─────────▼──────┐  ┌────▼────┐  ┌───▼────┐
            │ company-info.yml   │  │ app-metadata   │  │ primary │  │premium │
            │ ──────────────────│  │  .yml          │  │applicant│  │payment │
            │ • CompanyName     │  │ ───────────────│  │  .yml   │  │  .yml  │
            │ • CompanyPhone    │  │ • AppNumber    │  │ ────────│  │ ───────│
            │ • CompanyWebsite  │  │ • AppDate      │  │ • First │  │ • Total│
            │ • CompanyEmail    │  │ • EffectDate   │  │ • Last  │  │ • Month│
            │ • CustomerSvc     │  │ • RecvdDate    │  │ • DOB   │  │ • Bank │
            │ (5 fields)        │  │ (6 fields)     │  │ • Email │  │ (6)    │
            └───────────────────┘  └────────────────┘  │ (11)    │  └────────┘
                                                        └─────────┘
                                     
                                     ┌────────────────────────────────────┐
                                     │ OPTIONAL Components                 │
                                     │ (Include only when needed!)         │
                                     └──────┬─────────────────────┬────────┘
                                            │                     │
                                     ┌──────▼────────┐    ┌──────▼──────────┐
                                     │ spouse.yml    │    │ dependents.yml  │
                                     │ ─────────────│    │ ────────────────│
                                     │ • FirstName   │    │ • Dep1_First    │
                                     │ • LastName    │    │ • Dep1_Last     │
                                     │ • DOB         │    │ • Dep1_DOB      │
                                     │ • Gender      │    │ • Dep2_First    │
                                     │ • Email       │    │ • ...           │
                                     │ (7 fields)    │    │ (20 fields)     │
                                     └───────────────┘    └─────────────────┘


╔════════════════════════════════════════════════════════════════════════════╗
║                    Composition Scenarios                                    ║
╚════════════════════════════════════════════════════════════════════════════╝

SCENARIO 1: Individual with Spouse Only (No Kids)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

composition:
  base: base-payer-acroform-v2.yml        (28 fields)
  components:
    - spouse.yml                           (+ 7 fields)
    # NO dependents.yml                    (+ 0 fields)
    - products/medical-acroform.yml        (+ 10 fields)
                                           ──────────
                                           45 fields total

    ✓ Saved 20 unnecessary dependent fields!


SCENARIO 2: Medicare Individual (No Spouse, No Dependents)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

composition:
  base: base-payer-acroform-v2.yml        (28 fields)
  components:
    # NO spouse.yml                        (+ 0 fields)
    # NO dependents.yml                    (+ 0 fields)
    - products/medicare-supplement.yml     (+ 8 fields)
                                           ──────────
                                           36 fields total

    ✓ Saved 27 unnecessary spouse/dependent fields!


SCENARIO 3: Family with 2 Kids
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

composition:
  base: base-payer-acroform-v2.yml        (28 fields)
  components:
    - spouse.yml                           (+ 7 fields)
    - dependents.yml                       (+ 20 fields)
    - products/medical-acroform.yml        (+ 10 fields)
                                           ──────────
                                           65 fields total

    ✓ All family members supported!


SCENARIO 4: Employee-Only Group Plan
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

composition:
  base: base-payer-acroform-v2.yml        (28 fields)
  components:
    # NO spouse.yml                        (+ 0 fields)
    # NO dependents.yml                    (+ 0 fields)
    - markets/small-group-acroform-v2.yml  (+ 9 fields)
                                           ──────────
                                           37 fields total

    ✓ Saved 27 unnecessary family fields!
    ✓ Clean employee-only enrollment!


╔════════════════════════════════════════════════════════════════════════════╗
║                    Maintenance Benefits                                     ║
╚════════════════════════════════════════════════════════════════════════════╝

TASK: Update spouse email field to use lowercase
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

BEFORE (Monolithic):                    AFTER (Granular):
─────────────────────                   ─────────────────
1. Open base-payer-acroform.yml        1. Open spouse.yml
2. Search for spouse fields (mixed     2. All spouse fields visible!
   with 50+ other fields)              3. Edit "Spouse_Email" field
3. Find "Spouse_Email" among clutter   4. Save
4. Edit                                5. Done! ✓
5. Risk: Accidentally editing wrong    
   field in same file                  Affects ALL forms using spouse.yml
6. Save                                automatically:
                                         ✓ Individual/family forms
Affects: All forms                       ✓ Dependent coverage forms
                                         ✗ Does NOT affect: Employee-only,
                                           Medicare, Single forms


╔════════════════════════════════════════════════════════════════════════════╗
║                    File Organization                                        ║
╚════════════════════════════════════════════════════════════════════════════╝

config-repo/
├── templates/
│   ├── components/                         ◄─── NEW: Granular components
│   │   ├── company-info.yml               (Company branding fields)
│   │   ├── application-metadata.yml       (Application tracking)
│   │   ├── primary-applicant.yml          (Primary applicant fields)
│   │   ├── spouse.yml                     (Spouse fields - optional)
│   │   ├── dependents.yml                 (Dependent fields - optional)
│   │   └── premium-payment.yml            (Financial fields)
│   │
│   ├── base-payer-acroform.yml            ◄─── OLD: Monolithic (still works)
│   ├── base-payer-acroform-v2.yml         ◄─── NEW: Composed from components
│   │
│   ├── products/
│   │   ├── medical-acroform.yml
│   │   └── dental-acroform.yml
│   │
│   ├── markets/
│   │   ├── individual-acroform-v2.yml     ◄─── Includes spouse + dependents
│   │   └── small-group-acroform-v2.yml    ◄─── Excludes spouse + dependents
│   │
│   └── states/
│       ├── california-acroform-fields.yml
│       └── texas-acroform-fields.yml
│
└── Examples:
    ├── medical-individual-family-ca.yml   (Full family enrollment)
    └── medical-individual-single-ca.yml   (Single individual only)


╔════════════════════════════════════════════════════════════════════════════╗
║                    Component Reusability Matrix                             ║
╚════════════════════════════════════════════════════════════════════════════╝

Component          │ Individual │ Sm.Group │ Lg.Group │ Medicare │ COBRA
───────────────────┼────────────┼──────────┼──────────┼──────────┼───────
company-info       │     ✓      │    ✓     │    ✓     │    ✓     │   ✓
app-metadata       │     ✓      │    ✓     │    ✓     │    ✓     │   ✓
primary-applicant  │     ✓      │    ✓     │    ✓     │    ✓     │   ✓
premium-payment    │     ✓      │    ✓     │    ✓     │    ✓     │   ✓
spouse             │     ✓      │    -     │    -     │    -     │   ✓
dependents         │     ✓      │    -     │    -     │    -     │   ✓
───────────────────┴────────────┴──────────┴──────────┴──────────┴───────

✓ = Always included
- = Usually excluded (optional in some cases)


╔════════════════════════════════════════════════════════════════════════════╗
║                    Composition Depth Example                                ║
╚════════════════════════════════════════════════════════════════════════════╝

medical-individual-family-ca.yml
│
├─► base-payer-acroform-v2.yml
│   │
│   ├─► components/company-info.yml          (5 fields)
│   ├─► components/application-metadata.yml  (6 fields)
│   ├─► components/primary-applicant.yml     (11 fields)
│   └─► components/premium-payment.yml       (6 fields)
│
├─► components/spouse.yml                     (7 fields)
├─► components/dependents.yml                 (20 fields)
├─► products/medical-acroform.yml             (10 fields)
└─► states/california-acroform-fields.yml     (10 fields)

TOTAL: 75 field mappings from 9 files!
Maximum composition depth: 2 levels (base → component → sub-component)


╔════════════════════════════════════════════════════════════════════════════╗
║                    Summary: Why Granular Components?                        ║
╚════════════════════════════════════════════════════════════════════════════╝

✅ SELECTIVE INCLUSION
   Include only what each form needs (spouse, dependents optional)

✅ BETTER ORGANIZATION
   Related fields grouped together (all spouse fields in one file)

✅ EASIER MAINTENANCE
   Update spouse fields in one place, affects all forms automatically

✅ TEAM COLLABORATION
   Multiple developers can work on different components without conflicts

✅ CLEARER INTENT
   Form composition shows exactly what it includes/excludes

✅ REDUCED COMPLEXITY
   Smaller files easier to understand and modify

✅ BACKWARD COMPATIBLE
   Old monolithic base-payer-acroform.yml still works

✅ SCALABILITY
   Add new applicant types (e.g., domestic-partner.yml) without touching base

✅ TESTING
   Test each component independently before composing

✅ REUSABILITY
   Same components used across 100+ form variations

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

RECOMMENDATION: ✅ YES, split base into granular components!

The benefits (selective inclusion, maintainability, organization) far outweigh
the minor overhead of managing a few extra files.

Proven pattern used by: React components, microservices, atomic design, etc.
