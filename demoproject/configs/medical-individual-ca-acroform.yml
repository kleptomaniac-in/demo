# Complete example: Medical Individual California enrollment form
# Demonstrates FULL composition hierarchy with ALL levels

composition:
  base: templates/base-payer-acroform-v2.yml  # Composed base (28 core fields)
  components:
    # Applicant components (selectively included)
    - templates/components/spouse.yml          # Spouse fields for family coverage
    - templates/components/dependents.yml      # Dependent children fields
    
    # Product component (medical-specific fields)
    - templates/products/medical-acroform.yml  # Medical plan fields + overrides
    
    # Market component (individual market fields)
    - templates/markets/individual-acroform-v2.yml  # Household, subsidy fields
    
    # State component (CA compliance)
    - templates/states/california-acroform-fields.yml  # CA regulatory fields

# Optional: Final template-specific overrides
pdfMerge:
  sections:
    - name: enrollment-application
      # Template-specific field overrides (highest priority)
      fieldMapping:
        # Custom header for this specific form
        "FormTitle": "static:Medical Individual Plan - California Enrollment"
        "FormVersion": "static:2025-CA-MED-IND-v1.2"
        
        # Override application date format for this form specifically
        "ApplicationDate": "#{formatDate(enrollment.applicationDate, 'MMMM dd, yyyy')}"

# COMPLETE FIELD MAPPING HIERARCHY (merged in order):
# 1. base-payer-acroform-v2.yml
#    ├─ components/company-info.yml        - Company branding (5 fields)
#    ├─ components/application-metadata.yml - Application tracking (6 fields)
#    ├─ components/primary-applicant.yml   - Primary applicant (11 fields)
#    └─ components/premium-payment.yml     - Financial (6 fields)
#                                          = 28 base fields
#
# 2. components/spouse.yml                 - Spouse fields (7 fields)
# 3. components/dependents.yml             - Dependent children (20 fields)
# 4. products/medical-acroform.yml         - Medical-specific (10 fields + SSN override)
# 5. markets/individual-acroform-v2.yml    - Individual market (5 fields)
# 6. states/california-acroform-fields.yml - CA compliance (10 fields + overrides)
# 7. This file                             - Final overrides (2 fields)
#
# TOTAL: 75+ field mappings from 11 component files!
# Result: All field mappings are deep-merged with later components overriding earlier ones
